<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lexical Analyzer</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #0d0d0d;
      font-family: 'Share Tech Mono', monospace;
      overflow-x: hidden;
      color: #00ffe0;
    }
    canvas#particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .logo {
      text-align: center;
      margin-top: 20px;
    }
    .logo img {
      max-width: 180px;
    }
    h1 {
      text-align: center;
      font-size: 32px;
      color: #ff4ddb;
      text-shadow: 0 0 5px #ff4ddb;
      margin-bottom: 30px;
    }
    .terminal {
      margin: 0 auto;
      width: 80%;
      background: #111;
      border-left: 6px solid #0ff;
      padding: 20px;
      font-size: 16px;
      color: #0f0;
      white-space: pre-wrap;
      box-shadow: 0 0 12px #000;
      max-height: 300px;
      overflow-y: auto;
    }
    .cursor {
      display: inline-block;
      width: 10px;
      height: 16px;
      background: #0f0;
      animation: blink 1s step-start 0s infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    .button-wrapper {
      text-align: center;
      margin: 20px;
    }
    .launch-btn, .stop-btn {
      background: #ff00aa;
      color: black;
      padding: 10px 25px;
      margin: 10px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #ff00aa;
    }
    .launch-btn:hover, .stop-btn:hover {
      background: #ff4ddb;
    }
    .footer-info {
      text-align: right;
      padding: 10px 20px;
      font-size: 14px;
      color: #777;
      position: fixed;
      bottom: 0;
      right: 0;
    }
    @media (max-width: 600px) {
      .terminal { width: 90%; font-size: 14px; }
      .footer-info { font-size: 12px; }
    }
  </style>
</head>
<body>

<canvas id="particles-js"></canvas>

<div class="logo">
  <img src="docs/logo.png" alt="Logo">
</div>

<h1>Lexical Analyzer</h1>

<div class="button-wrapper">
  <button class="launch-btn" onclick="startTyping()">Launch Analyzer</button>
  <button class="stop-btn" onclick="stopTyping()">Stop Analyzer</button>
</div>

<div class="terminal" id="terminal"></div>

<div class="footer-info">
  Aser Essam<br>
  Misr University for Science and Technology<br>
  Language: C
</div>

<audio id="type-sound" src="type.wav" preload="auto"></audio>

<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
  particlesJS("particles-js", {
    ...
    "particles": {
      "number": {"value": 60},
      "color": {"value": "#ff00ff"},
      "shape": {"type": "circle"},
      "opacity": {"value": 0.5},
      "size": {"value": 2},
      "line_linked": {"enable": true, "distance": 150, "color": "#00ffe0", "opacity": 0.4, "width": 1},
      "move": {"enable": true, "speed": 2}
    },
    "interactivity": {
      "events": {
        "onhover": {"enable": true, "mode": "repulse"},
        "onclick": {"enable": true, "mode": "push"}
      }
    }
  });

  const output = `Next token is: 11, Next lexeme is total_sum
Next token is: 20, Next lexeme is =
Next token is: 25, Next lexeme is (
Next token is: 11, Next lexeme is val1
Next token is: 21, Next lexeme is +
Next token is: 10, Next lexeme is 25
Next token is: 26, Next lexeme is )
Next token is: 23, Next lexeme is *
Next token is: 25, Next lexeme is (
Next token is: 11, Next lexeme is var2
Next token is: 22, Next lexeme is -
Next token is: 10, Next lexeme is 3
Next token is: 26, Next lexeme is )
Next token is: 24, Next lexeme is /
Next token is: 10, Next lexeme is 5
Next token is: 21, Next lexeme is +
Next token is: 11, Next lexeme is temp123
Next token is: 22, Next lexeme is -
Next token is: 25, Next lexeme is (
Next token is: 10, Next lexeme is 7
Next token is: 21, Next lexeme is +
Next token is: 11, Next lexeme is counter
Next token is: 26, Next lexeme is )
Next token is: 23, Next lexeme is *
Next token is: 10, Next lexeme is 2
Next token is: -1, Next lexeme is EOF`;

  let i = 0, started = false, interval;
  const terminal = document.getElementById("terminal");
  const sound = document.getElementById("type-sound");

  function startTyping() {
    if (started) return;
    started = true;
    i = 0;
    terminal.innerHTML = '';
    typeStep();
  }

  function typeStep() {
    if (i < output.length) {
      terminal.innerHTML = output.slice(0, i++) + '<span class="cursor"></span>';
      sound.currentTime = 0;
      sound.play().catch(() => {});  // non-blocking play
      interval = setTimeout(typeStep, 25);
    } else {
      started = false;
    }
  }

  function stopTyping() {
    clearTimeout(interval);
    terminal.innerHTML = '';
    started = false;
  }
</script>

</body>
</html>
